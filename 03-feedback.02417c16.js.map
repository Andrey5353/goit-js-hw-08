{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBA0BpC,WACI,IACI,MAAMC,EAAYC,aAAaC,QA3BnB,uBA4BhB,IAAKF,EACD,OAEA,MAAMG,EAAeC,KAAKC,MAAML,GAEhCM,OAAOC,QAAQJ,GAAcK,SAAQ,EAAEC,EAAMC,MACzCb,EAAKc,SAASF,GAAMC,MAAQA,KAElC,MAAOE,GACLC,QAAQD,MAAMA,EAAME,UApC5BC,GAqBAlB,EAAKmB,iBAAiB,SAAS,EAAArB,EAAAsB,WAnB/B,SAAqBC,GACjB,MAAMT,KAAEA,EAAIC,MAAEA,GAAUQ,EAAEC,OAE1B,IACI,IAAInB,EAAYC,aAAaC,QAPjB,uBASRF,EADAA,EACYI,KAAKC,MAAML,GAEX,GAGhBA,EAAUS,GAAQC,EAClB,MAAMU,EAAehB,KAAKiB,UAAUrB,GACpCC,aAAaqB,QAhBD,sBAgBsBF,GACpC,MAAOR,GACLC,QAAQD,MAAMA,EAAME,YAIyB,MAmBrDjB,EAAKmB,iBAAiB,UAGtB,SAAuBE,GACnBA,EAAEK,iBACF,MAAOZ,UAAUF,KAAEA,EAAIe,MAAEA,EAAKV,QAAEA,IAAaI,EAAEO,cAE/CZ,QAAQa,IAAI,CAAEjB,KAAMA,EAAKC,MAAOc,MAAOA,EAAMd,MAAOI,QAASA,EAAQJ,QACrEQ,EAAEO,cAAcE,QAEhB1B,aAAa2B,WAnDG","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form')\nconst STORAGE_KEY = 'feedback-form-state';\ninitPage();\n\nfunction handleInput(e) {\n    const { name, value } = e.target;\n\n    try {\n        let savedData = localStorage.getItem(STORAGE_KEY);\n        if (savedData) {\n            savedData = JSON.parse(savedData);\n        } else {\n            savedData = {};\n        };\n\n        savedData[name] = value;\n        const formDataJSON = JSON.stringify(savedData);\n        localStorage.setItem(STORAGE_KEY, formDataJSON); \n    } catch (error) {\n        console.error(error.message);\n    };\n};\n\nform.addEventListener('input', throttle(handleInput, 500));\n\n\nfunction initPage() {\n    try {\n        const savedData = localStorage.getItem(STORAGE_KEY);\n    if (!savedData) {\n        return;\n    };\n        const savedDataObj = JSON.parse(savedData);\n\n        Object.entries(savedDataObj).forEach(([name, value]) => {\n            form.elements[name].value = value;\n        });\n    } catch (error) {\n        console.error(error.message);\n    };\n};\n\nform.addEventListener('submit', handleSubmit);\n\n\nfunction handleSubmit (e) {\n    e.preventDefault();\n    const {elements: { name, email, message }} = e.currentTarget;\n\n    console.log({ name: name.value, email: email.value, message: message.value });\n    e.currentTarget.reset();\n\n    localStorage.removeItem(STORAGE_KEY); \n};\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","savedData","localStorage","getItem","savedDataObj","JSON","parse","Object","entries","forEach","name","value","elements","error","console","message","$945622fd0f572e60$var$initPage","addEventListener","throttle","e","target","formDataJSON","stringify","setItem","preventDefault","email","currentTarget","log","reset","removeItem"],"version":3,"file":"03-feedback.02417c16.js.map"}