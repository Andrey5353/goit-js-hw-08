{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,mBA0BpC,WACI,IACI,MAAMC,EAAYC,aAAaC,QA3BvB,uBA4BZ,IAAKF,EACD,OAEA,MAAMG,EAAeC,KAAKC,MAAML,GAEhCM,OAAOC,QAAQJ,GAAcK,SAAQ,EAAEC,EAAMC,MACzCb,EAAKc,SAASF,GAAMC,MAAQA,KAElC,MAAOE,GACLC,QAAQD,MAAMA,EAAME,UApC5BC,GAqBAlB,EAAKmB,iBAAiB,QAASC,EAAEC,UAnBjC,SAAqBC,GACjB,MAAMV,KAAEA,EAAIC,MAAEA,GAAUS,EAAEC,OAE1B,IACI,IAAIpB,EAAYC,aAAaC,QAPrB,uBASJF,EADAA,EACYI,KAAKC,MAAML,GAEX,GAGhBA,EAAUS,GAAQC,EAClB,MAAMW,EAAejB,KAAKkB,UAAUtB,GACpCC,aAAasB,QAhBL,sBAgBsBF,GAChC,MAAOT,GACLC,QAAQD,MAAMA,EAAME,YAI2B,MAmBvDjB,EAAKmB,iBAAiB,UAGtB,SAAuBG,GACnBA,EAAEK,iBACF,MAAOb,UAAUF,KAAEA,EAAIgB,MAAEA,EAAKX,QAAEA,IAAaK,EAAEO,cAE/Cb,QAAQc,IAAI,CAAElB,KAAMA,EAAKC,MAAOe,MAAOA,EAAMf,MAAOI,QAASA,EAAQJ,QACrES,EAAEO,cAAcE,QAEhB3B,aAAa4B,WAnDD","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector('.feedback-form')\nconst nameKey = 'feedback-form-state';\ninitPage();\n\nfunction handleInput(e) {\n    const { name, value } = e.target;\n\n    try {\n        let savedData = localStorage.getItem(nameKey);\n        if (savedData) {\n            savedData = JSON.parse(savedData);\n        } else {\n            savedData = {};\n        };\n\n        savedData[name] = value;\n        const formDataJSON = JSON.stringify(savedData);\n        localStorage.setItem(nameKey, formDataJSON); \n    } catch (error) {\n        console.error(error.message);\n    };\n};\n\nform.addEventListener('input', _.throttle(handleInput, 500));\n\n\nfunction initPage() {\n    try {\n        const savedData = localStorage.getItem(nameKey);\n    if (!savedData) {\n        return;\n    };\n        const savedDataObj = JSON.parse(savedData);\n\n        Object.entries(savedDataObj).forEach(([name, value]) => {\n            form.elements[name].value = value;\n        });\n    } catch (error) {\n        console.error(error.message);\n    };\n};\n\nform.addEventListener('submit', handleSubmit);\n\n\nfunction handleSubmit (e) {\n    e.preventDefault();\n    const {elements: { name, email, message }} = e.currentTarget;\n\n    console.log({ name: name.value, email: email.value, message: message.value });\n    e.currentTarget.reset();\n\n    localStorage.removeItem(nameKey); \n};\n"],"names":["$945622fd0f572e60$var$form","document","querySelector","savedData","localStorage","getItem","savedDataObj","JSON","parse","Object","entries","forEach","name","value","elements","error","console","message","$945622fd0f572e60$var$initPage","addEventListener","_","throttle","e","target","formDataJSON","stringify","setItem","preventDefault","email","currentTarget","log","reset","removeItem"],"version":3,"file":"03-feedback.ddfb0b58.js.map"}